@page
@model HostelManagement.Pages.Rooms.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Room</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.RoomTitle)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.RoomTitle)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.RoomDescription)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.RoomDescription)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.RomMaxCapacity)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.RomMaxCapacity)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.RoomCurrentCapacity)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.RoomCurrentCapacity)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.Status)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.Status)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.Deposit)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.Deposit)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.Price)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.Price)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.Hostel)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Room.Hostel.HostelOwnerEmail)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Room.RoomPics)
        </dt>
        <dd class="col-sm-10">
            @foreach (var item in Model.Room.RoomPics)
            {
                <img src="~/images/rooms/@(item.RoomPicUrl)" width="200" />
            }
            @if (Model.UserRole == "Owner")
            {   <p> | </p>
                <a asp-page="./RoomPics" asp-route-id="@Model.Room.RoomId">Edit Pictures</a>
            }
        </dd>
    </dl>
</div>
@if (Model.UserRole == "Owner")
{
    <div>
        <a asp-page="./Edit" asp-route-id="@Model.Room.RoomId">Edit Room</a> |
        <a asp-page="../Rents/Index" asp-route-id="@Model.Room.RoomId">View Rent History</a> |
        <a asp-page="../Hostels/Details" asp-route-id="@Model.Room.HostelId">Back to Hostel Detail</a>
    </div>
}

@if (Model.UserRole == "Renter")
{
    <a asp-page="../Rents/Create" asp-route-id="@Model.Room.RoomId">Rent this room</a>
}

@if (String.IsNullOrEmpty(Model.UserRole))
{
    <a asp-page="../Accounts/Login">Rent this room</a>
}
